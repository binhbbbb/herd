( Vaadin calculator example )
VAR tf
VAR tfValue "" tfValue ! 
VAR value 0 value !

: clearTf
 tf @ "" setValue
;

: val ( str -- str xt )
  ( Append a value to the textfield )
  ANONCREATE DUP , DOES> tfValue @ SWAP CAT tf @ SWAP setValue DROP
;

: calculate ( xt -- result in tf and value )
  ( calculate value using value on stack and value in textfield
    using previously entered operation )
  value @ tfValue @ STRTOINT ROT EXECUTE ( value )
  DUP value !  ( to value )
  INTTOSTR tf @ SWAP setValue DROP  ( to textfield )
;

: clearTfValue
  "" tfValue !
;

: cmd ( str -- str xt )
  ( Store value from textfield on stack and perform operation on it )
  DUP ANONCREATE ' , DOES> 
  SWAP
  PRINTSTACK "mit√§ nyt taas" LOG
  value @ 0 = NOT 
  IF
    calculate clearTfValue
  ELSE
    tfValue @ STRTOINT value ! SWAP  clearTfValue
  ENDIF
;

: equals calculate ; 
: C 0 value ! tf @ "" setValue ;

: newValue tfValue ! ;
: storeIt DUP tf ! ;

( Main part of the program )
mainPanel contains:
  "" aTextField listenedBy newValue storeIt addIt
  4 4 a newGl contains:  
  list[ "7" val || "8" val || "9" val || "/" cmd || 
        "4" val || "5" val || "6" val || "*" cmd || 
        "1" val || "2" val || "3" val || "-" cmd || 
        "0" val || "=" "equals" ' || "C" DUP ' || "+" cmd 
      ]addButtonsToLayout
  addIt
DROP

NULL